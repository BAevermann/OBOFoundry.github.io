
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>OBOPURLDomain</title>
    
    <meta name="author" content="OBO Technical WG">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap styles -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Sticky Footer -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bs-sticky-footer.css" rel="stylesheet">
    
    <!-- Custom styles -->
    <link href="/assets/themes/bootstrap-3/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">



    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- atom & rss feed -->
    <link href="" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div id="wrap">
      <nav class="navbar navbar-default" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#jb-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">The OBO Foundry</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="jb-navbar-collapse">
          <ul class="nav navbar-nav">
            
            
            


  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
  
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
  
    
      
    
  
    
      
    
  
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
  
    
      
    
  
    
      
    
  



          </ul>
          <!--
          <form class="navbar-form navbar-right" role="search">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Search">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
          </form>
          -->
        </div><!-- /.navbar-collapse -->
      </nav>

      <div class="container">
        
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <!-- TODO: copy source -->
      <!-- see also: http://stackoverflow.com/questions/18474564/bootstrap-3-navbar-with-logo -->
      <a class="navbar-brand" href="/">
        <img style="max-width:50px; margin-top: -7px;" src="http://obofoundry.org/images/foundrylogo.gif"/>
      </a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">About <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/docs/ProjectHome.html">Documentation</a></li>
            <li><a href="http://www.nature.com/nbt/journal/v25/n11/full/nbt1346.html">Citation</a></li>
            <li><a href="https://github.com/OBOFoundry">GitHub Organization</a></li>
            <li><a href="https://github.com/OBOFoundry/OBOFoundry.github.io">GitHub project</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Ontologies <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/">Ontology Table</a></li>
            <li><a href="/id-policy.html">ID Policy</a></li>
            <li><a href="https://github.com/OBOFoundry/OBOFoundry.github.io/tree/master/ontology">Ontologies Metadata Source</a></li>
            <li><a href="https://github.com/OBOFoundry/OBOFoundry.github.io/blob/master/registry/ontologies.yml">Ontology YAML</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Participate <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="allnews.html">OBO Foundry News</a></li>
            <li>Twitter Feed (coming soon)</li>
            <li>Mailing lists (TODO)</li>
          </ul>
        </li>


        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">FAQ <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <!-- in theory we could auto-generate this part of the navbar -->
            <li><a href="/faq/who-is-the-foundry.html">Who is the OBO Foundry?</a></li>
            <li role="separator" class="divider"></li>
            <li><a href="/faq/how-do-i-register-my-ontology.html">How do I register my ontology?</a></li>
            <li><a href="/faq/how-do-i-edit-metadata.html">How do I edit the metadata for my ontology?</a></li>
            <li role="separator" class="divider"></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Legacy <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="/literature.html">Literature</a></li>
            <li><a href="/participate.html">Participate</a></li>
            <li><a href="/coordination.html">Coordination</a></li>
            <li><a href="/relatedprojects.html">Related</a></li>
            <li><a href="/crit.html">Criteria</a></li>
            <li><a href="/publications.html">Publications</a></li>
            <li><a href="http://wiki.obofoundry.org">Old Wiki</a></li>
            <li><a href="https://code.google.com/p/obo-foundry-operations-committee/wiki/">Old Operation Wiki</a></li>
          </ul>
        </li>



      </ul>
      <form class="navbar-form navbar-left" role="search" action="http://www.ontobee.org/browser/search.php" method="get">
        <div class="form-group">
          <input name="keywords" type="text" class="form-control" placeholder="Search Ontobee">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<div class="content">    


  <div>	
    <div class="page-header">
      <h1>
        OBOPURLDomain
      </h1>      
    </p>

  </div>
   
  <div class="col-md-12">

    <div class="row">
      <div class="col-md-3">
        
        <p>Operations committee</p>

<ul>
<li><a href="/docs/MissionStatement.html">Mission statement</a></li>
<li><a href="/docs/Membership.html">Membership</a></li>
<li><a href="/docs/CommitteeMeetings.html">Meetings</a></li>
<li><a href="/docs/OperationsCommitteePolicyDecisions.html">Policy decisions</a></li>
<li><a href="/docs/MailingLists.html">Mailing-lists</a></li>
<li><a href="/docs/OBOCalendar.html">OBO calendar</a></li>
</ul>

<p><a href="/docs/OutreachWG.html">Outreach group</a></p>

<p><a href="/docs/EditorialWG.html">Editorial group</a></p>

<ul>
<li><a href="/docs/ReviewProcessGuidelines.html">Review process</a></li>
<li><a href="/docs/ReviewCriteriaPolicies.html">Review criteria</a></li>
</ul>

<p><a href="/docs/TechnicalWG.html">Technical group</a></p>

<ul>
<li><a href="/docs/Policy_for_OBO_namespace_and_associated_PURL_requests.html">PURL requests</a></li>
<li><a href="/docs/OBOPURLDomain.html">OBO PURL configuration</a></li>
<li><a href="/docs/SettingUpProtege.html">Setting up Protege 4.3</a></li>
</ul>


        <div class="btn-group" role="group" aria-label="Source">
          <a href="https://github.com/OBOFoundry/OBOFoundry.github.io/blob/master/docs/OBOPURLDomain.md">
            <button type="button" 
                    data-toggle="tooltip" 
                    title="See FAQ entry: How is metadata stored?" 
                    html="true"
                    class="btn btn-default">
              View
            </button>
          </a>
          <a href="https://github.com/OBOFoundry/OBOFoundry.github.io/edit/master/docs/OBOPURLDomain.md">

            <button type="button" 
                    data-toggle="tooltip" 
                    title="See FAQ entry: How I do edit my metadata?" 
                    html="true"
                    class="btn btn-default">
              Edit</button>
          </a>
          <!-- <button type="button" class="btn btn-default">Help</button> -->
        </div>
      </div>

      <div class="col-md-9">

        <h1>Introduction</h1>

<p>To enable URI dereferencing while allowing users to keep control over their resources, a resolution system in multiple steps has been implemented.</p>

<h1>Create the prefix/domain</h1>

<ul>
<li>Add the prefix to the file ontologies.txt</li>
</ul>

<p><strong>CHANGE MARCH 25th 2013</strong></p>

<p>Due to the Sourceforge upgrade, we have to switch to using the ontologies.txt in the obo-registry repository at http://obo-registry.googlecode.com/svn/trunk/metadata/ontologies.txt. Note that you will need to have committing rights on the google code project at <a href="https://code.google.com/p/obo-registry/">https://code.google.com/p/obo-registry/</a>
After editing, copy the file and commit it under the OBO SF CVS at <a href="http://obo.cvs.sourceforge.net/viewvc/obo/obo/website/cgi-bin/ontologies.txt">http://obo.cvs.sourceforge.net/viewvc/obo/obo/website/cgi-bin/ontologies.txt</a>. Note that you will need to have sourceforge access to the OBO project at <a href="https://sourceforge.net/projects/obo/">https://sourceforge.net/projects/obo/</a></p>

<ul>
<li><p>Add the tracker information
In the file <a href="http://obo.cvs.sourceforge.net/viewvc/obo/obo/website/cgi-bin/trackers.txt">http://obo.cvs.sourceforge.net/viewvc/obo/obo/website/cgi-bin/trackers.txt</a></p></li>
<li><p>Create the admin group</p></li>
</ul>

<p>Create a group with the name obo-IDSPACE (e.g., obo-IAO), and add the OBO group as well as the requester to it. This group will administer all PURLs related to that domain.</p>

<ul>
<li>Create the top-level PURL</li>
</ul>

<p>Please check the <a href="/docs/PURLGuide.html">PURLGuide</a> beforehand if you are not familiar with the PURL software/interface.</p>

<p>Go to <a href="http://purl.org">http://purl.org</a> and register the new domain as a subdomain of /obo/. Once logged in, go to the tab &quot;Domains&quot;, option &quot;create a new domain&quot;, and create the domain /obo/prefix (where prefix is the prefix chosen by the resource, e.g., IAO). Note that you need to have writing permission on the OBO domain to create subdomains.</p>

<p>Note that if there&#39;s no /obo/$idspace.owl purl registered then the fallback is to direct to http://berkeleybop.org/ontologies/$idspace.owl, which is generated automatically by <a href="http://www.obofoundry.org/wiki/index.php/Jenkins">Jenkins</a>.</p>

<ul>
<li>Update original tracker ticket

<ul>
<li>created PURL group obo-idspace</li>
<li>created PURL domain /obo/idspace (pending approval)</li>
<li>created obo/idspace.owl purl</li>
<li>added metadata in ontologies.txt (under obo-registry, copied under CVS)</li>
<li>added tracker info in trackers.txt (under CVS)</li>
<li>TODO: check domain approval in a few days.</li>
</ul></li>
</ul>

<h1>How does it work</h1>

<h2>httpRange-14</h2>

<p>When resolving IRIs, there is an ambiguity between what non-hash IRIs denote in real life (e.g, a car) and what is returned upon querying for them, i.e., a document. The W3C Technical Architecture Group (TAG) establishes a best practice to make the range of HTTP responses less ambiguous, by agreeing that (cite 1):
  * If an &quot;http&quot; resource responds to a GET request with a 2xx response, then the resource identified by that URI is an information resource;
  * If an &quot;http&quot; resource responds to a GET request with a 303 (See Other) response, then the resource identified by that URI could be any resource;
  * If an &quot;http&quot; resource responds to a GET request with a 4xx (error) response, then the nature of the resource is unknown.</p>

<p>Our architecture follows the recommendation of the TAG, and all requests to access IRIs result in an HTTP response status code 303. We add an extra step to the above by using a Canonical Name Record (CNAME)  for purl.obolibrary.org, which is an alias for http://www.berkeleybop.org/ontologies/. This allows us to leverage existing infrastructure - the PURL resolver - while allowing for immediate redirection should it fail.
Ultimately, the server responds with a 200 and sends back the RDF/XML document that describes the resource, thereby identified as an information resource as per the httpRange-14.</p>

<p>The <a href="https://obofoundry.org/id_policy.shtml">OBO ID Policy</a> describes the general schema for which purls are then create, and what the format of individual purls are.</p>

<h2>Practical examples</h2>

<h3>Request for /obo/aero.owl</h3>

<p>This takes precedence over the general PURL redirection for the /obo/ domain as it is a more specific PURL.</p>

<h3>Request for http://purl.obolibrary.org/obo/IAO_1234567</h3>

<ul>
<li>http://purl.obolibrary.org/ is a CNAME (i.e. an alias) that redirect to purl.org</li>
<li>purl.org/obo/ gets redirected to the berkeley server</li>
<li>the berkeley server has a rule such that IRIs looking like OBO IDs are redirected to /obo/NS/about/ID, where NS is the prefix (e.g. IAO) and the ID is IAO_1234567</li>
</ul>
<div class="highlight"><pre><code class="language-text" data-lang="text">## INHERIT:
## OBO Redirect from Alan
RewriteRule ^/ontologies/(\w+)_([A-Za-z0-9]+) 
http://purl.obolibrary.org/obo/$1/about/$1_$2  [R=303,L]
</code></pre></div>
<ul>
<li>if developers of a resource set up a partial redirect such that purl.org/obo/NS/about/ it will redirect to the location they such indicate</li>
<li>otherwise a rule will catch those back on the berkeley server</li>
</ul>
<div class="highlight"><pre><code class="language-text" data-lang="text">## Fallthough OBO catch.
## If the rewrite below ends back up at us, then use the stand-in
## page on ontobee.
RewriteRule ^/ontologies/\w+/about/(\w+)_([A-Za-z0-9]+) 
http://www.ontobee.org/browser/rdf.php?o=$1&amp;iri=http://purl.obolibrary.org/obo/$1_$2
</code></pre></div>
<p>redirects to Ontobee where the IRIs are dereferenced.</p>

<p>(cite 1) http://www.w3.org/2001/tag/issues.html#httpRange-14</p>

<h1>Temporary Workaround (Oct 2014)</h1>

<p>While OntoBee is down you can use OLS:</p>

<p>Instructions:</p>

<p>Log into purl.oclc.org</p>

<p>Do a search for the /about/ entry for your ontology - e.g. &quot;/obo/uberon/about/&quot;</p>

<p>Change the entry from:
<code>
http://www.ontobee.org/browser/rdf.php?o=UBERON&amp;iri=http://purl.obolibrary.org/obo/
</code>
to:
<code>
http://www.ebi.ac.uk/ontology-lookup/browse.do?ontName=UBERON&amp;termId=http://purl.obolibrary.org/obo/
</code>
(substituting UBERON for your ID space - must be upper case)</p>

<p>Troubleshooting: I&#39;ve never quite understood the OCLC rules for case sensitivity, in my case I had to change value of &quot;Path:&quot; from &quot;/obo/uberon/about/&quot; to &quot;/obo/UBERON/about/&quot; to get this to work</p>

        
      </div>



    </div>

  </div>

</div>
    

      </div>

    </div>

    <div id="footer">
      <div class="container">
        <p>&copy; 2015 OBO Technical WG
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>,
          <a href="http://getbootstrap.com" target="_blank">Bootstrap</a> and <a href="http://glyphicons.com/">glyphicons</a>
        </p>
      </div>
    </div>

    





    <!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/assets/themes/bootstrap-3/bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>

